(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{MQ9K:function(t,e,n){"use strict";n.r(e),n.d(e,"ExsentencesPageModule",function(){return C});var s=n("ofXK"),i=n("3Pt+"),o=n("tyNb"),r=n("TEn/"),c=n("mrSG"),l=n("qQr3"),h=n("yuQg"),a=n("AeRP"),b=n("fXoL"),u=n("qlzE");function _(t,e){if(1&t&&(b.Kb(0,"ion-row",20),b.Kb(1,"p"),b.ic(2),b.Jb(),b.Jb()),2&t){const t=b.Ub().$implicit;b.xb(2),b.lc("(",t.verb," - ",t.form,")")}}function g(t,e){if(1&t&&(b.Kb(0,"ion-row",21),b.Kb(1,"p"),b.ic(2),b.Jb(),b.Jb()),2&t){const t=b.Ub(2);b.xb(2),b.kc("Missing letters : ",t.count_missing_letter,"")}}function d(t,e){1&t&&(b.Kb(0,"ion-row",21),b.Kb(1,"div",22),b.Ib(2,"div",23),b.Ib(3,"div",24),b.Jb(),b.Jb())}function m(t,e){if(1&t&&(b.Kb(0,"ion-slide"),b.Kb(1,"ion-grid",16),b.Kb(2,"ion-row",17),b.Kb(3,"h1"),b.ic(4),b.Jb(),b.Jb(),b.hc(5,_,3,2,"ion-row",18),b.hc(6,g,3,1,"ion-row",19),b.hc(7,d,4,0,"ion-row",19),b.Jb(),b.Jb()),2&t){const t=e.$implicit,n=b.Ub();b.xb(4),b.mc("",t.beginning," ",t.answering," ",t.end,""),b.xb(1),b.Xb("ngIf",!n.isSuccessCheck),b.xb(1),b.Xb("ngIf",!n.isSuccessCheck),b.xb(1),b.Xb("ngIf",n.isSuccessCheck)}}function p(t,e){1&t&&(b.Kb(0,"p"),b.ic(1,"Select / Type the right letters"),b.Jb())}function f(t,e){1&t&&(b.Kb(0,"p"),b.ic(1,"Click the top-left close icon or slide the left menu to exit"),b.Jb())}function w(t,e){if(1&t){const t=b.Lb();b.Kb(0,"ion-col",25),b.Kb(1,"button",26),b.Sb("click",function(){b.cc(t);const n=e.$implicit,s=b.Ub();return s.goToSlide(s.display_letter_button[n],n)}),b.ic(2),b.Jb(),b.Jb()}if(2&t){const t=e.$implicit,n=b.Ub();b.xb(1),b.zb("false",2==n.test_answer[t])("true",1==n.test_answer[t]),b.xb(1),b.jc(n.display_letter_button[t])}}const x=[{path:"",component:(()=>{class t{constructor(t,e,n,s,i,o,r,c){this.navCtrl=t,this.http=e,this.route=n,this.currentView=s,this.alertCtrl=i,this.stateService=o,this.keyboardService=r,this.location=c,this.display_help_button=!0,this.isSuccessCheck=!1,this.lesson_number=Number(this.route.snapshot.params.id-1),this.sentences=[],this.first_part_sentence_list=[],this.list_verb_conjugate=[],this.list_missing_letter=[],this.list_number_letter=[],this.sentence_answer=[],this.list_is=[],this.list_becomes=[],this.list_pers=[],this.sentence_list={},this.verb_half="",this.missing_letter="",this.display_letter_button=[],this.number_buttons=[0,1,2,3,4,5],this.random_number_list=[],this.count_number=0,this.random_letter_list2=["a","c","\xe4","u","i","o","t","e","l","y","r","n","m"],this.test_answer=[],this.answering=[],this.right_answer=[],this.count_answer=0,this.answering_index=0,this.number_letter=0,this.count_missing_letter=0,this.display_pers="",this.longest_answer=0,this.sliderOptions={allowTouchMove:!1},this.updateKeySubject=this.keyboardService.getNewKey()}ngOnInit(){let t;this.http.get("assets/data/lessons_conjugaison_sentences.json").subscribe(e=>{this.sentence_list=JSON.parse(e._body);let n,s=this.lesson_number;if(this.level_number=this.sentence_list.lessons[s].level,this.sentence_list.lessons[s].random){for(n=0;n<this.sentence_list.lessons[s].content.length;n++)this.random_number_list[n]=n;for(this.shuffleArray(this.random_number_list),n=0;n<this.sentence_list.lessons[s].content.length;n++)for(this.sentences.push(this.sentence_list.lessons[s].content[this.random_number_list[n]]),this.first_part_sentence_list[this.random_number_list[n]]=this.sentences[n].beginning,this.list_missing_letter[this.random_number_list[n]]=this.sentences[n].answer,this.sentence_answer[this.random_number_list[n]]=this.sentences[n].answer,this.list_number_letter[this.random_number_list[n]]=this.sentences[n].answer.length,this.sentences[n].answering="",t=0;t<this.sentences[n].answer.length;t++)this.sentences[n].answering=this.sentences[n].answering+"_"}else for(n=0;n<this.sentence_list.lessons[s].content.length;n++)for(this.sentences.push(this.sentence_list.lessons[s].content[n]),this.first_part_sentence_list[n]=this.sentences[n].beginning,this.sentence_answer[n]=this.sentences[n].answer,this.list_missing_letter[n]=this.sentences[n].answer,this.list_number_letter[n]=this.sentences[n].answer.length,this.sentences[n].answering="",t=0;t<this.sentences[n].answer.length;t++)this.sentences[n].answering=this.sentences[n].answering+"_";for(n=0;n<this.sentences.length;n++)this.sentence_answer[n].length>this.longest_answer&&(this.longest_answer=this.sentence_answer[n].length);this.missing_letter=this.list_missing_letter[this.count_number],this.answering_index=0,this.number_letter=this.list_number_letter[this.count_number],this.prepareSlide(this.sentences);const i=this.stateService.get("progressInExercise");this.count_answer=0,i?(this.updateAnswers(parseInt(i)),setTimeout(()=>this.slides.slideTo(parseInt(i),0),0)):setTimeout(()=>this.slides.slideTo(0,0),0)}),this.updateKeySubject.subscribe({next:t=>{this.onKeyboardPress(t)}})}help(){return Object(c.a)(this,void 0,void 0,function*(){if(this.display_help_button=!1,this.count_missing_letter>0&&(this.answering_index=this.answering_index+1,this.sentences[this.count_number].answering=this.missing_letter.substr(0,this.answering_index)+this.sentences[this.count_number].answering.substr(this.answering_index),this.count_missing_letter=this.count_missing_letter-1,this.first_part_sentence_list[this.count_number]=this.verb_half,this.count_answer=this.count_answer+1,setTimeout(()=>this.display_help_button=!0,1e3)),0==this.count_missing_letter)if(this.testEnd())this.display_help_button=!1,this.showAlert();else{this.isSuccessCheck=!0;let t=yield this.slides.getActiveIndex();this.count_number=this.count_number+1,this.missing_letter=this.list_missing_letter[this.count_number],this.number_letter=this.list_number_letter[this.count_number],this.answering_index=0,this.verb_half=this.first_part_sentence_list[this.count_number],this.right_answer=[],this.count_answer=0;for(let e=0;e<this.missing_letter.length;e++)this.right_answer[e]=this.missing_letter.substring(e,e+1);this.display_help_button=!0,setTimeout(()=>{this.isSuccessCheck=!1},1500),setTimeout(()=>this.slides.slideTo(t+1,500),2e3),setTimeout(()=>{this.display_help_button=!0},1e3),this.stateService.store("progressInExercise",t+1)}})}goToSlide(t,e){return Object(c.a)(this,void 0,void 0,function*(){let n;if(this.testAnswer(t,e))if(this.testEnd())this.display_help_button=!1,this.showAlert();else{this.isSuccessCheck=!0;let t=yield this.slides.getActiveIndex();for(this.count_number=this.count_number+1,this.missing_letter=this.list_missing_letter[this.count_number],this.number_letter=this.list_number_letter[this.count_number],this.answering_index=0,this.verb_half=this.first_part_sentence_list[this.count_number],this.right_answer=[],this.count_answer=0,n=0;n<this.missing_letter.length;n++)this.right_answer[n]=this.missing_letter.substring(n,n+1);setTimeout(()=>{this.isSuccessCheck=!1},1500),setTimeout(()=>this.slides.slideTo(t+1,500),2e3),setTimeout(()=>{this.display_help_button=!0},1e3),this.stateService.store("progressInExercise",t+1)}})}prepareSlide(t){let e;for(this.fillArraynumber(this.level_number,this.longest_answer),this.count_missing_letter=this.number_letter,this.display_letter_button=[],this.shuffleArray(this.random_letter_list2),e=0;e<t[this.count_number].answer.length;e++)this.display_letter_button[e]=t[this.count_number].answer[e].toLowerCase();for(e=t[this.count_number].answer.length;e<this.number_buttons.length;e++)this.display_letter_button[e]=this.random_letter_list2[e].toLowerCase();this.shuffleArray(this.display_letter_button)}testAnswer(t,e){return t.toLowerCase()==this.missing_letter[this.count_answer].toLowerCase()?(this.sentences[this.count_number].answering=this.sentences[this.count_number].answering.substr(0,this.answering_index)+t+this.sentences[this.count_number].answering.substr(this.answering_index+1),this.answering_index=this.answering_index+1,this.count_missing_letter=this.count_missing_letter-1,this.first_part_sentence_list[this.count_number]=this.verb_half,this.count_answer=this.count_answer+1,this.test_answer[e]=1,setTimeout(()=>this.test_answer[e]=0,1e3),this.sentences[this.count_number].answering.toLowerCase()==this.sentences[this.count_number].answer.toLowerCase()):(this.test_answer[e]=2,setTimeout(()=>this.test_answer[e]=0,1e3),!1)}testEnd(){return this.count_number==this.sentences.length-1&&(this.stateService.clear(),this.count_answer=0,!0)}fillArraynumber(t,e){let n;switch(t){case 1:for(this.number_buttons.length=0,n=0;n<e;n++)this.number_buttons.push(n);break;case 2:for(this.number_buttons.length=0,n=0;n<e+1;n++)this.number_buttons.push(n);break;case 3:for(this.number_buttons.length=0,n=0;n<e+2;n++)this.number_buttons.push(n)}}shuffleArray(t){let e=t.length;for(;e>0;){let n=Math.floor(Math.random()*e);e--;let s=t[e];t[e]=t[n],t[n]=s}return t}showAlert(){return Object(c.a)(this,void 0,void 0,function*(){const t=yield this.alertCtrl.create({message:"You successfully completed this exercise.",header:"Well done!",buttons:[{text:"Great!",handler:()=>{this.number_buttons=[]}}]});yield t.present()})}pop(){this.stateService.clear(),this.count_answer=0,this.location.back()}updateAnswers(t){this.count_number=t,this.missing_letter=this.list_missing_letter[this.count_number],this.number_letter=this.list_number_letter[this.count_number],this.answering_index=0,this.verb_half=this.first_part_sentence_list[this.count_number],this.right_answer=[],this.count_answer=0;for(let e=0;e<this.missing_letter.length;e++)this.right_answer[e]=this.missing_letter.substring(e,e+1)}onKeyboardPress(t){if(this.number_buttons.length>=1){const e=this.display_letter_button.findIndex(e=>e==t);this.goToSlide(t,e)}}}return t.\u0275fac=function(e){return new(e||t)(b.Hb(r.K),b.Hb(u.a),b.Hb(o.a),b.Hb(l.a),b.Hb(r.b),b.Hb(h.a),b.Hb(a.a),b.Hb(s.g))},t.\u0275cmp=b.Bb({type:t,selectors:[["app-exsentences"]],viewQuery:function(t,e){if(1&t&&b.nc(r.A,!0),2&t){let t;b.ac(t=b.Tb())&&(e.slides=t.first)}},decls:25,vars:7,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close-outline"],["slot","end"],["mode","ios"],["ion-padding",""],["lines","none"],["slot","end","fill","outline",1,"help-button",3,"disabled","click"],[1,"slide","ion-justify-content-center",2,"width","100% !important"],[1,"div-slide-conjug"],[3,"options","ionSlideDidChange"],[4,"ngFor","ngForOf"],[1,"div-slide-title"],[4,"ngIf"],[1,"div-slide-answer"],["size-md","3","size-lg","3","size-xs","3",4,"ngFor","ngForOf"],["align-items-center","",1,"textAlign"],[1,"ion-justify-content-center"],["class","ion-justify-content-center grey",4,"ngIf"],["class","ion-justify-content-center grey missing-letter",4,"ngIf"],[1,"ion-justify-content-center","grey"],[1,"ion-justify-content-center","grey","missing-letter"],[1,"checkmark-circle","success-check"],[1,"background"],[1,"checkmark","draw"],["size-md","3","size-lg","3","size-xs","3"],["ion-button","",1,"ex-buttons",3,"click"]],template:function(t,e){1&t&&(b.Kb(0,"ion-header"),b.Kb(1,"ion-toolbar"),b.Kb(2,"ion-buttons",0),b.Kb(3,"ion-button",1),b.Sb("click",function(){return e.pop()}),b.Ib(4,"ion-icon",2),b.Jb(),b.Jb(),b.Kb(5,"ion-title"),b.Kb(6,"b"),b.ic(7),b.Jb(),b.Jb(),b.Kb(8,"ion-buttons",3),b.Ib(9,"ion-menu-button",4),b.Jb(),b.Jb(),b.Jb(),b.Kb(10,"ion-content",5),b.Kb(11,"ion-item",6),b.Kb(12,"ion-button",7),b.Sb("click",function(){return e.help()}),b.Kb(13,"ion-label"),b.ic(14,"HELP"),b.Jb(),b.Jb(),b.Jb(),b.Kb(15,"ion-grid",8),b.Kb(16,"div",9),b.Kb(17,"ion-slides",10),b.Sb("ionSlideDidChange",function(){return e.prepareSlide(e.sentences)}),b.hc(18,m,8,6,"ion-slide",11),b.Jb(),b.Jb(),b.Kb(19,"ion-row"),b.Kb(20,"div",12),b.hc(21,p,2,0,"p",13),b.hc(22,f,2,0,"p",13),b.Jb(),b.Kb(23,"ion-row",14),b.hc(24,w,3,5,"ion-col",15),b.Jb(),b.Jb(),b.Jb(),b.Jb()),2&t&&(b.xb(7),b.kc("Ex. Sentence Conjugation ",e.lesson_number+1,""),b.xb(5),b.Xb("disabled",!e.display_help_button),b.xb(5),b.Xb("options",e.sliderOptions),b.xb(1),b.Xb("ngForOf",e.sentences),b.xb(3),b.Xb("ngIf",e.number_buttons.length>=1),b.xb(1),b.Xb("ngIf",e.number_buttons.length<1),b.xb(2),b.Xb("ngForOf",e.number_buttons))},directives:[r.l,r.F,r.f,r.e,r.m,r.D,r.t,r.i,r.o,r.p,r.k,r.A,s.i,r.w,s.j,r.z,r.h],styles:["ion-toolbar[_ngcontent-%COMP%]{--background:#387ef5!important}ion-menu-button[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--color:#fff!important}.item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:.8rem}.tabbed[_ngcontent-%COMP%]{font-size:.9rem;padding:0 15px 0 25px}.sc-ion-card-ios-h[_ngcontent-%COMP%]{color:#000!important;-webkit-box-shadow:0 2px 6px rgba(0,0,0,.1)}.btn-style[_ngcontent-%COMP%]{padding:5px;border:1px solid #0aa8e7!important;background:transparent!important;color:#0aa8e7!important;border-radius:5px!important}.ex-buttons[_ngcontent-%COMP%]{background-color:#387ef5;font-size:x-large;margin-bottom:20%;border-radius:7px;width:50px;height:50px}.ex-buttons[_ngcontent-%COMP%], .false[_ngcontent-%COMP%]{color:#fff!important}.false[_ngcontent-%COMP%]{-webkit-transition:var(--background) .4s!important;background-color:var(--ion-color-false)!important}.true[_ngcontent-%COMP%]{-webkit-transition:var(--background) .2s!important;background-color:var(--ion-color-true)!important;color:#fff!important}.row-style[_ngcontent-%COMP%]{text-align:center!important}.btn-style[_ngcontent-%COMP%]{color:#00f;font-size:18px;background-color:transparent;border:1px solid}.ion-padding-start[_ngcontent-%COMP%], [padding-start][_ngcontent-%COMP%]{padding-left:unset;-webkit-padding-start:var(--ion-padding,16px);padding-inline-start:var(--ion-padding,270px)}.button-outline-ios[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #387ef5;color:#387ef5;background-color:transparent}.button-ios[_ngcontent-%COMP%]{border-radius:4px;height:2.8em;font-size:1.6rem;color:#fff;background-color:#387ef5;margin:.4rem .2rem;padding:0 1em}.button[_ngcontent-%COMP%]{text-align:center;-moz-appearance:none;-webkit-appearance:none;appearance:none;position:relative;z-index:0;display:inline-block;text-overflow:ellipsis;text-transform:none;white-space:nowrap;cursor:pointer;vertical-align:top;vertical-align:-webkit-baseline-middle;transition:background-color,opacity .1s linear;-webkit-font-kerning:none;font-kerning:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;contain:content}ion-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], ion-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], ion-buttons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], ion-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], ion-buttons[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{pointer-events:auto}button[_ngcontent-%COMP%]{border:0;font-family:inherit;font-style:inherit;font-variant:inherit;line-height:1;text-transform:none;cursor:pointer;-webkit-appearance:button}[ion-button][disabled][_ngcontent-%COMP%], a[disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default;opacity:.4;pointer-events:none}a[disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%], html[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%]{cursor:default}ion-back-button[_ngcontent-%COMP%]{--color:#fff!important}button[_ngcontent-%COMP%]:active{border-style:inset;background:#00f!important;-webkit-transition:top .09s ease-in!important}button[_ngcontent-%COMP%]{padding:1px 6px}.sc-ion-buttons-md-h[_ngcontent-%COMP%]{display:flex!important;align-items:center;transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-h[_ngcontent-%COMP%], .sc-ion-buttons-md-h[_ngcontent-%COMP%]{float:right!important}.slide[_ngcontent-%COMP%]{text-align:center;display:block;width:100%}.md[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   .swiper-zoom-container[_ngcontent-%COMP%]   .hydrated[_ngcontent-%COMP%]   .swiper-slide-active[_ngcontent-%COMP%], ion-slide[_ngcontent-%COMP%]{width:100!important}"]}),t})()}];let C=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(e){return new(e||t)},imports:[[s.b,i.c,r.G,o.i.forChild(x)]]}),t})()}}]);